<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Neue'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Neue'; min-height: 15.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;暴富分析系统 - 家禽野兽优化版&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>:root {</p>
<p class="p1"><span class="Apple-converted-space">            </span>--primary: #4CAF50;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--secondary: #2196F3;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--text: #333333;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--bg: #f8f9fa;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--poultry: #87CEFA; /* 天蓝色 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--beast: #D2B48C; <span class="Apple-converted-space">  </span>/* 土色 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--metal: #FFD700; <span class="Apple-converted-space">  </span>/* 金色 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--wood: #32CD32;<span class="Apple-converted-space">    </span>/* 木色 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--water: #1E90FF; <span class="Apple-converted-space">  </span>/* 水色 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--fire: #FF4500;<span class="Apple-converted-space">    </span>/* 火色 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--earth: #CD853F; <span class="Apple-converted-space">  </span>/* 土色 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: Arial, sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg);</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.input-box {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 15px 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 2px 6px rgba(0,0,0,0.1);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#inputData {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 2px solid var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 6px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>resize: vertical;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-group {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 10px 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-wrap: wrap;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 6px 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 4px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 13px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-primary {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-secondary {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #e0e0e0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-copy {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #ff9800;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-left: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 筛选器容器样式 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-section {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 15px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-section.active {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 8px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-title {</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--secondary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 13px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.toggle-all {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-decoration: underline;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-grid {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-item {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: inline-flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 28px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 28px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius 14px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #eee;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.2s;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-item.active {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 统计结果样式 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 15px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-group {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 2px 4px rgba(0,0,0,0.05);</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-title {</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--secondary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.toggle-stat {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-decoration: underline;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-content {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-content.hidden {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: none;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-line {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: Consolas, monospace;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>white-space: nowrap;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow-x: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding-bottom: 5px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 13px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-line::-webkit-scrollbar {</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 3px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-line::-webkit-scrollbar-thumb {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #ccc;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 3px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 新统计格式样式 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wx-stat-line {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wx-stat-header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 3px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wx-stat-numbers {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-left: 20px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.sx-stat-line {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 6px 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #f5f5f5;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 4px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 家禽野兽统计样式 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animal-stats {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-around;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 15px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animal-stat {</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 45%;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.poultry-stat {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--poultry);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.beast-stat {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--beast);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animal-type {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 5px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animal-count {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 16px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #333;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animal-percent {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #555;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 五行统计样式 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wuxing-stats {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-direction: column;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wuxing-stat {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 6px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wuxing-header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 5px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wuxing-numbers {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-wrap: wrap;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 5px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wuxing-number {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 2px 6px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 3px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #f0f0f0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.metal-stat { background: rgba(255, 215, 0, 0.2); border-left: 3px solid var(--metal); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.wood-stat { background: rgba(50, 205, 50, 0.2); border-left: 3px solid var(--wood); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.water-stat { background: rgba(30, 144, 255, 0.2); border-left: 3px solid var(--water); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.fire-stat { background: rgba(255, 69, 0, 0.2); border-left: 3px solid var(--fire); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.earth-stat { background: rgba(205, 133, 63, 0.2); border-left: 3px solid var(--earth); }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 筛选结果样式 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-result {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 15px 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 2px 6px rgba(0,0,0,0.1);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-result-header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-result-title {</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--secondary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-result-numbers {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-wrap: wrap;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 5px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter-result-number {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 3px 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #e0e0e0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 4px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: Consolas, monospace;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 高级用户选项样式 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.advanced-options {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 2px 6px rgba(0,0,0,0.1);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.advanced-header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.advanced-title {</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--secondary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.toggle-advanced {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-decoration: underline;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.advanced-content {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: none;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.advanced-content.active {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.password-input {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.password-input input {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #ddd;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 4px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.xinao-options {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.xinao-option {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 8px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.xinao-option label {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.xinao-option input {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-right: 8px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="appContainer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1 style="font-size:18px;margin-bottom:10px;"&gt;暴富分析系统&lt;/h1&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="input-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;textarea id="inputData" placeholder="输入示例：</p>
<p class="p1">01 02 03-04 05/06<span class="Apple-converted-space"> </span></p>
<p class="p1">07（08）09 10 猴 11</p>
<p class="p1">新澳1码：01<span class="Apple-converted-space"> </span></p>
<p class="p1">新澳4码：01 05 06 07</p>
<p class="p1">新澳8码：08 01 10 11 12 13 14 15</p>
<p class="p1">新澳12码：16 17 01 19 20 21 22 23 24 25 26 27"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="btn-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn btn-primary" onclick="analyze()"&gt;开始分析&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn" onclick="clearAll()"&gt;重置系统&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="input-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="btn-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn btn-secondary" onclick="toggleFilterSection('head')"&gt;头统计&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn btn-secondary" onclick="toggleFilterSection('tail')"&gt;尾统计&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn btn-secondary" onclick="toggleFilterSection('sx')"&gt;肖统计&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="filter-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="headFilter" class="filter-section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="filter-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="filter-title"&gt;头数筛选&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="toggle-all" onclick="toggleAll('heads')"&gt;全选/全不选&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="filter-grid" id="headFilters"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="tailFilter" class="filter-section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="filter-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="filter-title"&gt;尾数筛选&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="toggle-all" onclick="toggleAll('tails')"&gt;全选/全不选&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="filter-grid" id="tailFilters"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="sxFilter" class="filter-section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="filter-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="filter-title"&gt;生肖筛选&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="toggle-all" onclick="toggleAll('shengxiao')"&gt;全选/全不选&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="filter-grid" id="sxFilters"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- 新增的筛选结果展示框 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="filter-result" id="filterResultBox"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="filter-result-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="filter-result-title"&gt;筛选结果&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn btn-copy" onclick="copyFilterResult()"&gt;一键复制&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="filterResultContent"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>请选择筛选条件...</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- 高级用户选项 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="advanced-options"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="advanced-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="advanced-title"&gt;高级用户选项&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="toggle-advanced" onclick="toggleAdvancedOptions()"&gt;显示选项&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="advanced-content" id="advancedContent"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="password-input"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="password" id="advancedPassword" placeholder="输入密码解锁高级功能"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="btn-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button class="btn btn-primary" onclick="unlockAdvanced()"&gt;解锁&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button class="btn" onclick="lockAdvanced()"&gt;锁定&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="xinao-options" id="xinaoOptions" style="display:none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="xinao-option"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" name="xinaoOption" value="1"&gt; 新澳1码统计</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="xinao-option"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" name="xinaoOption" value="4"&gt; 新澳4码统计</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="xinao-option"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" name="xinaoOption" value="8"&gt; 新澳8码统计</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="xinao-option"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" name="xinaoOption" value="12"&gt; 新澳12码统计</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="xinao-option"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" name="xinaoOption" value="intersection"&gt; 新澳4/8/12码交集统计</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="input-box stat-container" id="results"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">const CONFIG = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>range: [1, 49],</p>
<p class="p1"><span class="Apple-converted-space">    </span>filters: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>heads: [0,1,2,3,4],</p>
<p class="p1"><span class="Apple-converted-space">        </span>tails: [0,1,2,3,4,5,6,7,8,9],</p>
<p class="p1"><span class="Apple-converted-space">        </span>shengxiao: {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'鼠': [6,18,30,42],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'牛': [5,17,29,41],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'虎': [4,16,28,40],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'兔': [3,15,27,39],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'龙': [2,14,26,38],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'蛇': [1,13,25,37,49],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'马': [12,24,36,48],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'羊': [11,23,35,47],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'猴': [10,22,34,46],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'鸡': [9,21,33,45],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'狗': [8,20,32,44],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'猪': [7,19,31,43]</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>wuxing: {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'金': [3,4,11,12,25,26,33,34,41,42],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'木': [7,8,15,16,23,24,37,38,45,46],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'水': [13,14,21,22,29,30,43,44],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'火': [1,2,9,10,17,18,31,32,39,40,47,48],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'土': [5,6,19,20,27,28,35,36,49]</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 家禽野兽分类</p>
<p class="p1"><span class="Apple-converted-space">        </span>animalTypes: {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'家禽': ['牛', '马', '羊', '鸡', '狗', '猪'],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'野兽': ['鼠', '虎', '兔', '龙', '蛇', '猴']</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>},</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 高级用户密码</p>
<p class="p1"><span class="Apple-converted-space">    </span>advancedPassword: "888888"</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">let systemState = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>activeFilters: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>heads: new Set(CONFIG.filters.heads),</p>
<p class="p1"><span class="Apple-converted-space">        </span>tails: new Set(CONFIG.filters.tails),</p>
<p class="p1"><span class="Apple-converted-space">        </span>shengxiao: new Set(Object.keys(CONFIG.filters.shengxiao))</p>
<p class="p1"><span class="Apple-converted-space">    </span>},</p>
<p class="p1"><span class="Apple-converted-space">    </span>uiState: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>showWuxing: false, // 默认隐藏五行统计</p>
<p class="p1"><span class="Apple-converted-space">        </span>showShengxiao: true,</p>
<p class="p1"><span class="Apple-converted-space">        </span>activeFilterSection: null,</p>
<p class="p1"><span class="Apple-converted-space">        </span>showAdvancedOptions: false,</p>
<p class="p1"><span class="Apple-converted-space">        </span>advancedUnlocked: false</p>
<p class="p1"><span class="Apple-converted-space">    </span>},</p>
<p class="p1"><span class="Apple-converted-space">    </span>lastResults: null,</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 新澳码数据</p>
<p class="p1"><span class="Apple-converted-space">    </span>xinaoData: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>'1': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'4': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'8': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'12': new Set()</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">// 初始化筛选器</p>
<p class="p1">function initFilters() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 头部筛选</p>
<p class="p1"><span class="Apple-converted-space">    </span>const headContainer = document.getElementById('headFilters');</p>
<p class="p1"><span class="Apple-converted-space">    </span>headContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>CONFIG.filters.heads.forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const btn = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.className = `filter-item ${systemState.activeFilters.heads.has(item) ? 'active' : ''}`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.textContent = item;</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.onclick = () =&gt; toggleFilter('heads', item, btn);</p>
<p class="p1"><span class="Apple-converted-space">        </span>headContainer.appendChild(btn);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 尾部筛选</p>
<p class="p1"><span class="Apple-converted-space">    </span>const tailContainer = document.getElementById('tailFilters');</p>
<p class="p1"><span class="Apple-converted-space">    </span>tailContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>CONFIG.filters.tails.forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const btn = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.className = `filter-item ${systemState.activeFilters.tails.has(item) ? 'active' : ''}`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.textContent = item;</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.onclick = () =&gt; toggleFilter('tails', item, btn);</p>
<p class="p1"><span class="Apple-converted-space">        </span>tailContainer.appendChild(btn);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 生肖筛选</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sxContainer = document.getElementById('sxFilters');</p>
<p class="p1"><span class="Apple-converted-space">    </span>sxContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>Object.keys(CONFIG.filters.shengxiao).forEach(sx =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const btn = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.className = `filter-item ${systemState.activeFilters.shengxiao.has(sx) ? 'active' : ''}`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.textContent = sx;</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.onclick = () =&gt; toggleFilter('shengxiao', sx, btn);</p>
<p class="p1"><span class="Apple-converted-space">        </span>sxContainer.appendChild(btn);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function toggleFilter(type, value, btn) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (systemState.activeFilters[type].has(value)) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>systemState.activeFilters[type].delete(value);</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">        </span>systemState.activeFilters[type].add(value);</p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateFilterResult();</p>
<p class="p1"><span class="Apple-converted-space">    </span>analyze();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 全选/全不选</p>
<p class="p1">function toggleAll(type) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const allSelected = type === 'shengxiao'<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>? Object.keys(CONFIG.filters[type]).every(item =&gt; systemState.activeFilters[type].has(item))</p>
<p class="p1"><span class="Apple-converted-space">        </span>: CONFIG.filters[type].every(item =&gt; systemState.activeFilters[type].has(item));</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>if (allSelected) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 全不选</p>
<p class="p1"><span class="Apple-converted-space">        </span>systemState.activeFilters[type].clear();</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 全选</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (type === 'shengxiao') {</p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(CONFIG.filters[type]).forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>systemState.activeFilters[type].add(item);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">            </span>CONFIG.filters[type].forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>systemState.activeFilters[type].add(item);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 更新UI</p>
<p class="p1"><span class="Apple-converted-space">    </span>const containerId = type === 'heads' ? 'headFilters' :<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                       </span>type === 'tails' ? 'tailFilters' : 'sxFilters';</p>
<p class="p1"><span class="Apple-converted-space">    </span>const items = document.querySelectorAll(`#${containerId} .filter-item`);</p>
<p class="p1"><span class="Apple-converted-space">    </span>items.forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>item.classList.toggle('active', !allSelected);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>updateFilterResult();</p>
<p class="p1"><span class="Apple-converted-space">    </span>analyze();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 切换筛选区块显示</p>
<p class="p1">function toggleFilterSection(type) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sections = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>'head': document.getElementById('headFilter'),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'tail': document.getElementById('tailFilter'),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'sx': document.getElementById('sxFilter')</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 如果点击的是当前已激活的区块，则关闭它</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (systemState.uiState.activeFilterSection === type) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>sections[type].classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">        </span>systemState.uiState.activeFilterSection = null;</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 关闭所有区块</p>
<p class="p1"><span class="Apple-converted-space">        </span>Object.keys(sections).forEach(key =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>sections[key].classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 打开指定区块</p>
<p class="p1"><span class="Apple-converted-space">        </span>sections[type].classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">        </span>systemState.uiState.activeFilterSection = type;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 计算家禽野兽统计</p>
<p class="p1">function calculateAnimalStats(numbers, sxStats) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const animalStats = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>'家禽': { count: 0, numbers: [], details: {} },</p>
<p class="p1"><span class="Apple-converted-space">        </span>'野兽': { count: 0, numbers: [], details: {} }</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 计算总数</p>
<p class="p1"><span class="Apple-converted-space">    </span>Object.entries(CONFIG.filters.animalTypes).forEach(([type, animals]) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>animals.forEach(animal =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (sxStats[animal]) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 计算每个生肖的总出现次数</p>
<p class="p1"><span class="Apple-converted-space">                </span>const animalTotal = Object.entries(sxStats[animal].countGroups)</p>
<p class="p1"><span class="Apple-converted-space">                    </span>.reduce((sum, [count, nums]) =&gt; sum + (parseInt(count) * nums.length), 0);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>animalStats[type].count += animalTotal;</p>
<p class="p1"><span class="Apple-converted-space">                </span>animalStats[type].details[animal] = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>count: animalTotal,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>numbers: []</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 收集出现的数字</p>
<p class="p1"><span class="Apple-converted-space">                </span>Object.entries(sxStats[animal].countGroups).forEach(([count, nums]) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>nums.forEach(num =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>animalStats[type].numbers.push(num);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>animalStats[type].details[animal].numbers.push(num);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 计算百分比</p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalAnimals = animalStats['家禽'].count + animalStats['野兽'].count;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (totalAnimals &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>animalStats['家禽'].percent = ((animalStats['家禽'].count / totalAnimals) * 100).toFixed(1);</p>
<p class="p1"><span class="Apple-converted-space">        </span>animalStats['野兽'].percent = ((animalStats['野兽'].count / totalAnimals) * 100).toFixed(1);</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">        </span>animalStats['家禽'].percent = '0.0';</p>
<p class="p1"><span class="Apple-converted-space">        </span>animalStats['野兽'].percent = '0.0';</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>return animalStats;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 核心分析功能</p>
<p class="p1">function analyze() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const input = document.getElementById('inputData').value;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const numbers = processInput(input);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const results = calculateStatistics(numbers);</p>
<p class="p1"><span class="Apple-converted-space">    </span>systemState.lastResults = results;</p>
<p class="p1"><span class="Apple-converted-space">    </span>renderResults(results);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function processInput(input) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 解析新澳码数据</p>
<p class="p1"><span class="Apple-converted-space">    </span>parseXinaoData(input);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 获取选中的新澳码选项</p>
<p class="p1"><span class="Apple-converted-space">    </span>const selectedOptions = getSelectedXinaoOptions();</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 如果有选中的新澳码选项，则只使用新澳码数据</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (selectedOptions.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>let resultNumbers = [];</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 如果是交集选项</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (selectedOptions.includes('intersection')) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 计算4、8、12码的交集</p>
<p class="p1"><span class="Apple-converted-space">            </span>const intersection = [...systemState.xinaoData['4']]</p>
<p class="p1"><span class="Apple-converted-space">                </span>.filter(num =&gt; systemState.xinaoData['8'].has(num) &amp;&amp; systemState.xinaoData['12'].has(num));</p>
<p class="p1"><span class="Apple-converted-space">            </span>resultNumbers = intersection;</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 合并所有选中的新澳码数据</p>
<p class="p1"><span class="Apple-converted-space">            </span>selectedOptions.forEach(option =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>resultNumbers = [...resultNumbers, ...systemState.xinaoData[option]];</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 去重</p>
<p class="p1"><span class="Apple-converted-space">        </span>resultNumbers = [...new Set(resultNumbers)];</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 应用头尾和生肖筛选</p>
<p class="p1"><span class="Apple-converted-space">        </span>return resultNumbers.filter(n =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const head = Math.floor(n / 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tail = n % 10;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sxMatch = Array.from(systemState.activeFilters.shengxiao).some(sx =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>CONFIG.filters.shengxiao[sx].includes(n));</p>
<p class="p1"><span class="Apple-converted-space">            </span>return systemState.activeFilters.heads.has(head) &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                   </span>systemState.activeFilters.tails.has(tail) &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                   </span>sxMatch;</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 如果没有选择新澳码选项，则使用普通解析方式</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (input.match(/\d+/g) || [])</p>
<p class="p1"><span class="Apple-converted-space">        </span>.map(Number)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter(n =&gt; n &gt;= CONFIG.range[0] &amp;&amp; n &lt;= CONFIG.range[1])</p>
<p class="p1"><span class="Apple-converted-space">        </span>.filter(n =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const head = Math.floor(n / 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tail = n % 10;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sxMatch = Array.from(systemState.activeFilters.shengxiao).some(sx =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>CONFIG.filters.shengxiao[sx].includes(n));</p>
<p class="p1"><span class="Apple-converted-space">            </span>return systemState.activeFilters.heads.has(head) &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                   </span>systemState.activeFilters.tails.has(tail) &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                   </span>sxMatch;</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 解析新澳码数据</p>
<p class="p1">function parseXinaoData(input) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 重置新澳码数据</p>
<p class="p1"><span class="Apple-converted-space">    </span>systemState.xinaoData = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>'1': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'4': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'8': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'12': new Set()</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 匹配新澳1码</p>
<p class="p1"><span class="Apple-converted-space">    </span>const regex1 = /新[澳奥]1码[：:]\s*([\d\s、，,\.\-~\/（）()]+)/;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const match1 = input.match(regex1);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (match1) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const numbers = match1[1].match(/\d+/g) || [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>numbers.forEach(num =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const n = parseInt(num);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (n &gt;= 1 &amp;&amp; n &lt;= 49) systemState.xinaoData['1'].add(n);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 匹配新澳4码</p>
<p class="p1"><span class="Apple-converted-space">    </span>const regex4 = /新[澳奥]4码[：:]\s*([\d\s、，,\.\-~\/（）()]+)/;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const match4 = input.match(regex4);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (match4) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const numbers = match4[1].match(/\d+/g) || [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>numbers.forEach(num =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const n = parseInt(num);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (n &gt;= 1 &amp;&amp; n &lt;= 49) systemState.xinaoData['4'].add(n);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 匹配新澳8码</p>
<p class="p1"><span class="Apple-converted-space">    </span>const regex8 = /新[澳奥]8码[：:]\s*([\d\s、，,\.\-~\/（）()]+)/;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const match8 = input.match(regex8);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (match8) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const numbers = match8[1].match(/\d+/g) || [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>numbers.forEach(num =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const n = parseInt(num);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (n &gt;= 1 &amp;&amp; n &lt;= 49) systemState.xinaoData['8'].add(n);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 匹配新澳12码</p>
<p class="p1"><span class="Apple-converted-space">    </span>const regex12 = /新[澳奥]12码[：:]\s*([\d\s、，,\.\-~\/（）()]+)/;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const match12 = input.match(regex12);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (match12) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const numbers = match12[1].match(/\d+/g) || [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>numbers.forEach(num =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const n = parseInt(num);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (n &gt;= 1 &amp;&amp; n &lt;= 49) systemState.xinaoData['12'].add(n);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 获取选中的新澳码选项</p>
<p class="p1">function getSelectedXinaoOptions() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!systemState.uiState.advancedUnlocked) return [];</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const options = document.querySelectorAll('#xinaoOptions input[name="xinaoOption"]:checked');</p>
<p class="p1"><span class="Apple-converted-space">    </span>return Array.from(options).map(opt =&gt; opt.value);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function calculateStatistics(numbers) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 基础统计</p>
<p class="p1"><span class="Apple-converted-space">    </span>const base = new Map();</p>
<p class="p1"><span class="Apple-converted-space">    </span>for(let i = 1; i &lt;= 49; i++) base.set(i, 0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>numbers.forEach(n =&gt; base.set(n, (base.get(n) || 0) + 1));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 重组统计结果</p>
<p class="p1"><span class="Apple-converted-space">    </span>const countGroups = {};</p>
<p class="p1"><span class="Apple-converted-space">    </span>base.forEach((count, num) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!countGroups[count]) countGroups[count] = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>countGroups[count].push(num);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 五行统计 - 修改为计算每个五行的总出现次数和百分比</p>
<p class="p1"><span class="Apple-converted-space">    </span>const wuxingStats = {};</p>
<p class="p1"><span class="Apple-converted-space">    </span>let totalWuxingCount = 0;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 先计算每个五行的总出现次数</p>
<p class="p1"><span class="Apple-converted-space">    </span>Object.entries(CONFIG.filters.wuxing).forEach(([name, nums]) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const total = nums.reduce((sum, n) =&gt; sum + (base.get(n) || 0), 0);</p>
<p class="p1"><span class="Apple-converted-space">        </span>wuxingStats[name] = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>total: total,</p>
<p class="p1"><span class="Apple-converted-space">            </span>numbers: nums,</p>
<p class="p1"><span class="Apple-converted-space">            </span>countGroups: {}</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>totalWuxingCount += total;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 计算百分比</p>
<p class="p1"><span class="Apple-converted-space">    </span>Object.keys(wuxingStats).forEach(name =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const percent = totalWuxingCount &gt; 0<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>? ((wuxingStats[name].total / totalWuxingCount) * 100).toFixed(1)</p>
<p class="p1"><span class="Apple-converted-space">            </span>: '0.0';</p>
<p class="p1"><span class="Apple-converted-space">        </span>wuxingStats[name].percentage = percent;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 生肖统计</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sxStats = {};</p>
<p class="p1"><span class="Apple-converted-space">    </span>Object.entries(CONFIG.filters.shengxiao).forEach(([name, nums]) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const items = nums.map(n =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">            </span>number: n,</p>
<p class="p1"><span class="Apple-converted-space">            </span>count: base.get(n)</p>
<p class="p1"><span class="Apple-converted-space">        </span>}));</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>const sxCountGroups = {};</p>
<p class="p1"><span class="Apple-converted-space">        </span>items.forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!sxCountGroups[item.count]) sxCountGroups[item.count] = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>sxCountGroups[item.count].push(item.number);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>sxStats[name] = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>total: items.filter(i =&gt; i.count &gt; 0).length,</p>
<p class="p1"><span class="Apple-converted-space">            </span>countGroups: sxCountGroups,</p>
<p class="p1"><span class="Apple-converted-space">            </span>percentage: ((items.filter(i =&gt; i.count &gt; 0).length / nums.length) * 100).toFixed(1),</p>
<p class="p1"><span class="Apple-converted-space">            </span>totalCount: items.reduce((sum, item) =&gt; sum + item.count, 0) // 新增：计算每个生肖的总出现次数</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 家禽野兽统计</p>
<p class="p1"><span class="Apple-converted-space">    </span>const animalStats = calculateAnimalStats(numbers, sxStats);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return {</p>
<p class="p1"><span class="Apple-converted-space">        </span>total: numbers.length,</p>
<p class="p1"><span class="Apple-converted-space">        </span>countGroups: countGroups,</p>
<p class="p1"><span class="Apple-converted-space">        </span>wuxingStats: wuxingStats,</p>
<p class="p1"><span class="Apple-converted-space">        </span>sxStats: sxStats,</p>
<p class="p1"><span class="Apple-converted-space">        </span>animalStats: animalStats,</p>
<p class="p1"><span class="Apple-converted-space">        </span>totalWuxingCount: totalWuxingCount</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 更新筛选结果展示</p>
<p class="p1">function updateFilterResult() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const resultBox = document.getElementById('filterResultContent');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const selectedNumbers = getFilteredNumbers();</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>if (selectedNumbers.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>resultBox.innerHTML = '请选择筛选条件...';</p>
<p class="p1"><span class="Apple-converted-space">        </span>return;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 按数字排序</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sortedNumbers = [...selectedNumbers].sort((a, b) =&gt; a - b);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 生成结果HTML</p>
<p class="p1"><span class="Apple-converted-space">    </span>let html = '&lt;div class="filter-result-numbers"&gt;';</p>
<p class="p1"><span class="Apple-converted-space">    </span>sortedNumbers.forEach(num =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>html += `&lt;span class="filter-result-number"&gt;${num.toString().padStart(2, '0')}&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>html += '&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">    </span>html += `&lt;div style="margin-top:10px;color:#666;"&gt;共 ${sortedNumbers.length} 个数字&lt;/div&gt;`;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>resultBox.innerHTML = html;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 获取当前筛选条件下的所有数字</p>
<p class="p1">function getFilteredNumbers() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const result = new Set();</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 获取所有选中的生肖</p>
<p class="p1"><span class="Apple-converted-space">    </span>const selectedShengxiao = Array.from(systemState.activeFilters.shengxiao);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 遍历所有可能的数字</p>
<p class="p1"><span class="Apple-converted-space">    </span>for (let num = 1; num &lt;= 49; num++) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const head = Math.floor(num / 10);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const tail = num % 10;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 检查头尾是否符合</p>
<p class="p1"><span class="Apple-converted-space">        </span>const headMatch = systemState.activeFilters.heads.has(head);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const tailMatch = systemState.activeFilters.tails.has(tail);</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 检查生肖是否符合</p>
<p class="p1"><span class="Apple-converted-space">        </span>const sxMatch = selectedShengxiao.some(sx =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>CONFIG.filters.shengxiao[sx].includes(num));</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (headMatch &amp;&amp; tailMatch &amp;&amp; sxMatch) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>result.add(num);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>return Array.from(result);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 复制筛选结果</p>
<p class="p1">function copyFilterResult() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const selectedNumbers = getFilteredNumbers();</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (selectedNumbers.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>alert('没有可复制的数字！');</p>
<p class="p1"><span class="Apple-converted-space">        </span>return;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 按数字排序</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sortedNumbers = [...selectedNumbers].sort((a, b) =&gt; a - b);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 格式化为两位数字符串</p>
<p class="p1"><span class="Apple-converted-space">    </span>const numbersStr = sortedNumbers.map(num =&gt; num.toString().padStart(2, '0')).join(' ');</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>navigator.clipboard.writeText(numbersStr).then(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>alert('筛选结果已复制到剪贴板！');</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 修改后的五行统计格式化函数</p>
<p class="p1">function formatWuxingStats(wuxingStats) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 按百分比排序</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sortedWuxing = Object.entries(wuxingStats)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.sort((a, b) =&gt; parseFloat(b[1].percentage) - parseFloat(a[1].percentage));</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>let html = '&lt;div class="wuxing-stats"&gt;';</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>sortedWuxing.forEach(([name, data]) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const clsName = name === '金' ? 'metal-stat' :</p>
<p class="p1"><span class="Apple-converted-space">                       </span>name === '木' ? 'wood-stat' :</p>
<p class="p1"><span class="Apple-converted-space">                       </span>name === '水' ? 'water-stat' :</p>
<p class="p1"><span class="Apple-converted-space">                       </span>name === '火' ? 'fire-stat' : 'earth-stat';</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += `</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="wuxing-stat ${clsName}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="wuxing-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span&gt;${name}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span&gt;${data.percentage}% (${data.total}次)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="wuxing-numbers"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>${data.numbers.map(n =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const count = data.countGroups[n] || 0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return `&lt;span class="wuxing-number"&gt;${n.toString().padStart(2, '0')}&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}).join('')}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>html += '&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">    </span>return html;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 修改后的生肖统计格式化函数</p>
<p class="p1">function formatShengxiaoStats(sxStats) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 将生肖数据转换为数组并排序</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sortedSx = Object.entries(sxStats)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.map(([name, data]) =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">            </span>name,</p>
<p class="p1"><span class="Apple-converted-space">            </span>totalCount: data.totalCount</p>
<p class="p1"><span class="Apple-converted-space">        </span>}))</p>
<p class="p1"><span class="Apple-converted-space">        </span>.sort((a, b) =&gt; b.totalCount - a.totalCount);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 按次数分组</p>
<p class="p1"><span class="Apple-converted-space">    </span>const countGroups = {};</p>
<p class="p1"><span class="Apple-converted-space">    </span>sortedSx.forEach(sx =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const count = sx.totalCount;</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!countGroups[count]) countGroups[count] = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>countGroups[count].push(sx.name);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>let result = '';</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 生成结果HTML - 按照您要求的格式</p>
<p class="p1"><span class="Apple-converted-space">    </span>Object.keys(countGroups)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.sort((a, b) =&gt; b - a)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.forEach(count =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sxList = countGroups[count].join(' ');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalSx = countGroups[count].length;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>result += `</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="sx-stat-line"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>〖${count}次〗${sxList}（共计${totalSx}个）</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return result;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 渲染家禽野兽统计</p>
<p class="p2"><br></p>
<p class="p1">function renderAnimalStats(animalStats) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>let html = `</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="stat-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="stat-title"&gt;家禽野兽统计&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="stat-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="animal-stats"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="animal-stat beast-stat"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="animal-type"&gt;野兽&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="animal-count"&gt;〖${animalStats['野兽'].count}次〗&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="animal-percent"&gt;${animalStats['野兽'].percent}%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="animal-stat poultry-stat"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="animal-type"&gt;家禽&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="animal-count"&gt;〖${animalStats['家禽'].count}次〗&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="animal-percent"&gt;${animalStats['家禽'].percent}%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;`;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>return html;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 复制五行统计</p>
<p class="p1">function copyWuxingStats() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!systemState.lastResults) return;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>let text = '五行统计：\n';</p>
<p class="p1"><span class="Apple-converted-space">    </span>const wuxingStats = systemState.lastResults.wuxingStats;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 按百分比排序</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sortedWuxing = Object.entries(wuxingStats)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.sort((a, b) =&gt; parseFloat(b[1].percentage) - parseFloat(a[1].percentage));</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>sortedWuxing.forEach(([name, data]) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>text += `${name}: ${data.percentage}% (${data.total}次)\n`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>text += `数字: ${data.numbers.map(n =&gt; n.toString().padStart(2, '0')).join(' ')}\n\n`;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>navigator.clipboard.writeText(text).then(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>alert('五行统计已复制到剪贴板！');</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 修改后的复制生肖统计功能</p>
<p class="p1">function copyShengxiaoStats() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!systemState.lastResults) return;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const sxStats = systemState.lastResults.sxStats;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 将生肖数据转换为数组并排序</p>
<p class="p1"><span class="Apple-converted-space">    </span>const sortedSx = Object.entries(sxStats)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.map(([name, data]) =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">            </span>name,</p>
<p class="p1"><span class="Apple-converted-space">            </span>totalCount: data.totalCount</p>
<p class="p1"><span class="Apple-converted-space">        </span>}))</p>
<p class="p1"><span class="Apple-converted-space">        </span>.sort((a, b) =&gt; b.totalCount - a.totalCount);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 按次数分组</p>
<p class="p1"><span class="Apple-converted-space">    </span>const countGroups = {};</p>
<p class="p1"><span class="Apple-converted-space">    </span>sortedSx.forEach(sx =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const count = sx.totalCount;</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!countGroups[count]) countGroups[count] = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>countGroups[count].push(sx.name);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>let text = '生肖统计：\n';</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 生成文本 - 按照您要求的格式</p>
<p class="p1"><span class="Apple-converted-space">    </span>Object.keys(countGroups)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.sort((a, b) =&gt; b - a)</p>
<p class="p1"><span class="Apple-converted-space">        </span>.forEach(count =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sxList = countGroups[count].join(' ');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalSx = countGroups[count].length;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>text += `〖${count}次〗${sxList}（共计${totalSx}个）\n`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>navigator.clipboard.writeText(text).then(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>alert('生肖统计已复制到剪贴板！');</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 渲染结果</p>
<p class="p1">function renderResults({ total, countGroups, wuxingStats, sxStats, animalStats }) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const container = document.getElementById('results');</p>
<p class="p1"><span class="Apple-converted-space">    </span>let html = '';</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 基础统计</p>
<p class="p1"><span class="Apple-converted-space">    </span>html += `&lt;div class="stat-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="stat-title"&gt;基础统计（共 ${total} 个）&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="stat-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>${Object.keys(countGroups).sort((a, b) =&gt; b - a).map(count =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>`&lt;div class="stat-line"&gt;〖${count}次〗${countGroups[count].sort((a, b) =&gt; a - b).map(n =&gt; n.toString().padStart(2, '0')).join(' ')}（共计${countGroups[count].length}个）&lt;/div&gt;`</p>
<p class="p1"><span class="Apple-converted-space">            </span>).join('')}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;`;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 家禽野兽统计</p>
<p class="p1"><span class="Apple-converted-space">    </span>html += renderAnimalStats(animalStats);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 五行统计</p>
<p class="p1"><span class="Apple-converted-space">    </span>html += `&lt;div class="stat-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="stat-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="stat-title"&gt;五行统计&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="toggle-stat" onclick="toggleStatDisplay('wuxing')"&gt;${systemState.uiState.showWuxing ? '隐藏' : '显示'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn btn-copy" onclick="copyWuxingStats()"&gt;一键复制&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="stat-content ${systemState.uiState.showWuxing ? '' : 'hidden'}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>${formatWuxingStats(wuxingStats)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;`;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 生肖统计</p>
<p class="p1"><span class="Apple-converted-space">    </span>html += `&lt;div class="stat-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="stat-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="stat-title"&gt;生肖统计&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="toggle-stat" onclick="toggleStatDisplay('shengxiao')"&gt;${systemState.uiState.showShengxiao ? '隐藏' : '显示'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn btn-copy" onclick="copyShengxiaoStats()"&gt;一键复制&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="stat-content ${systemState.uiState.showShengxiao ? '' : 'hidden'}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>${formatShengxiaoStats(sxStats)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;`;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>container.innerHTML = html;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 切换统计显示</p>
<p class="p1">function toggleStatDisplay(type) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (type === 'wuxing') {</p>
<p class="p1"><span class="Apple-converted-space">        </span>systemState.uiState.showWuxing = !systemState.uiState.showWuxing;</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else if (type === 'shengxiao') {</p>
<p class="p1"><span class="Apple-converted-space">        </span>systemState.uiState.showShengxiao = !systemState.uiState.showShengxiao;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 重新渲染结果</p>
<p class="p1"><span class="Apple-converted-space">    </span>const input = document.getElementById('inputData').value;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const numbers = processInput(input);</p>
<p class="p1"><span class="Apple-converted-space">    </span>renderResults(calculateStatistics(numbers));</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 切换高级选项显示</p>
<p class="p1">function toggleAdvancedOptions() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>systemState.uiState.showAdvancedOptions = !systemState.uiState.showAdvancedOptions;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const content = document.getElementById('advancedContent');</p>
<p class="p1"><span class="Apple-converted-space">    </span>content.classList.toggle('active', systemState.uiState.showAdvancedOptions);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 解锁高级功能</p>
<p class="p1">function unlockAdvanced() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const password = document.getElementById('advancedPassword').value;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (password === CONFIG.advancedPassword) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>systemState.uiState.advancedUnlocked = true;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('xinaoOptions').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">        </span>alert('高级功能已解锁！');</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">        </span>alert('密码错误！');</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 锁定高级功能</p>
<p class="p1">function lockAdvanced() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>systemState.uiState.advancedUnlocked = false;</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('xinaoOptions').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('advancedPassword').value = '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>alert('高级功能已锁定！');</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function clearAll() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('inputData').value = '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>systemState.activeFilters = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>heads: new Set(CONFIG.filters.heads),</p>
<p class="p1"><span class="Apple-converted-space">        </span>tails: new Set(CONFIG.filters.tails),</p>
<p class="p1"><span class="Apple-converted-space">        </span>shengxiao: new Set(Object.keys(CONFIG.filters.shengxiao))</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.querySelectorAll('.filter-item').forEach(btn =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.classList.add('active'));</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('results').innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('filterResultContent').innerHTML = '请选择筛选条件...';</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 重置UI状态</p>
<p class="p1"><span class="Apple-converted-space">    </span>systemState.uiState = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>showWuxing: false,</p>
<p class="p1"><span class="Apple-converted-space">        </span>showShengxiao: true,</p>
<p class="p1"><span class="Apple-converted-space">        </span>activeFilterSection: null,</p>
<p class="p1"><span class="Apple-converted-space">        </span>showAdvancedOptions: false,</p>
<p class="p1"><span class="Apple-converted-space">        </span>advancedUnlocked: false</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 隐藏所有筛选区块</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.querySelectorAll('.filter-section').forEach(section =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>section.classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 重置新澳码数据</p>
<p class="p1"><span class="Apple-converted-space">    </span>systemState.xinaoData = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>'1': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'4': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'8': new Set(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>'12': new Set()</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 隐藏高级选项</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('advancedContent').classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('xinaoOptions').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('advancedPassword').value = '';</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// 初始化</p>
<p class="p1">initFilters();</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
<p class="p2"><br></p>
</body>
</html>
